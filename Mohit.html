<!DOCTYPE html>
<!-- saved from url=(0112)https://mohitchoudhary747.github.io/cmpBanners/QA_Websites/OtherForms_Arsa/ContactForm/RadiobuttonFormbased.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Contact V7 multiple consent on QA after changes</title>
	
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->
	<link rel="icon" type="image/png" href="https://mohitchoudhary747.github.io/cmpBanners/QA_Websites/OtherForms_Arsa/ContactForm/images/icons/favicon.ico">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="./Mohit_files/bootstrap.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="./Mohit_files/font-awesome.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="./Mohit_files/icon-font.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="./Mohit_files/animate.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="./Mohit_files/hamburgers.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="./Mohit_files/animsition.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="./Mohit_files/select2.min.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="./Mohit_files/daterangepicker.css">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="./Mohit_files/util.css">
	<link rel="stylesheet" type="text/css" href="./Mohit_files/main.css">
<!--===============================================================================================-->
<script async="" src="./Mohit_files/fingerprint2.js"></script></head>
<body><audio class="audio-for-speech" src=""></audio><div class="translate-tooltip-mtz green sm-root translate hidden_translate">
                    <div class="header-wrapper">
                        <div class="header-controls">
                            <span class="sound-translate"></span>
                            <span class="copy green"></span>
                            <span class="settings-translator"></span>
                        </div>
                        <div class="header-title">translator</div>
                        <div class="translate-icons">
                            <img class="from" src="https://mohitchoudhary747.github.io/cmpBanners/QA_Websites/OtherForms_Arsa/ContactForm/RadiobuttonFormbased.html">
                            <img class="translate-arrow" src="chrome-extension://ibppednjgooiepmkgdcoppnmbhmieefh/images/right-arrow.png">
                            <div class="translate_to_dropdown">
                                <button class="dropbtn dropdown-toggle" type="button" id="dropdownMenuButton1" aria-expanded="false"></button>
                                <ul class="dropdown-content-wrapper languageSelector green">
                                    <li><a class="dropdown-item" data-lang="af">Afrikaans</a></li>
                                    <li><a class="dropdown-item" data-lang="sq">Albanian - shqipe</a></li>
                                    <li><a class="dropdown-item" data-lang="ar">Arabic - ‎‫العربية‬‎</a></li>
                                    <li><a class="dropdown-item" data-lang="hy">Armenian - Հայերէն</a></li>
                                    <li><a class="dropdown-item" data-lang="az">Azerbaijani - azərbaycanca</a></li>
                                    <li><a class="dropdown-item" data-lang="eu">Basque - euskara</a></li>
                                    <li><a class="dropdown-item" data-lang="be">Belarusian - беларуская</a></li>
                                    <li><a class="dropdown-item" data-lang="bn">Bengali - বাংলা</a></li>
                                    <li><a class="dropdown-item" data-lang="bg">Bulgarian - български</a></li>
                                    <li><a class="dropdown-item" data-lang="ca">Catalan - català</a></li>
                                    <li><a class="dropdown-item" data-lang="zh-CN">Chinese - 中文（简体中文）</a></li>
                                    <li><a class="dropdown-item" data-lang="zh-TW">Chinese - 中文 (繁體中文)</a></li>
                                    <li><a class="dropdown-item" data-lang="hr">Croatian - hrvatski</a></li>
                                    <li><a class="dropdown-item" data-lang="cs">Czech - čeština</a></li>
                                    <li><a class="dropdown-item" data-lang="da">Danish - dansk</a></li>
                                    <li><a class="dropdown-item" data-lang="nl">Dutch - Nederlands</a></li>
                                    <li><a class="dropdown-item" data-lang="en">English</a></li>
                                    <li><a class="dropdown-item" data-lang="eo">Esperanto - esperanto</a></li>
                                    <li><a class="dropdown-item" data-lang="et">Estonian - eesti</a></li>
                                    <li><a class="dropdown-item" data-lang="tl">Filipino</a></li>
                                    <li><a class="dropdown-item" data-lang="fi">Finnish - suomi</a></li>
                                    <li><a class="dropdown-item" data-lang="fr">French - français</a></li>
                                    <li><a class="dropdown-item" data-lang="gl">Galician - galego</a></li>
                                    <li><a class="dropdown-item" data-lang="ka">Georgian - ქართული</a></li>
                                    <li><a class="dropdown-item" data-lang="de">German - Deutsch</a></li>
                                    <li><a class="dropdown-item" data-lang="el">Greek - Ελληνικά</a></li>
                                    <li><a class="dropdown-item" data-lang="gu">Gujarati - ગુજરાતી</a></li>
                                    <li><a class="dropdown-item" data-lang="ht">Haitian Creole - kreyòl ayisyen</a></li>
                                    <li><a class="dropdown-item" data-lang="iw">Hebrew - ‎‫עברית‬‎</a></li>
                                    <li><a class="dropdown-item" data-lang="hi">Hindi - हिन्दी</a></li>
                                    <li><a class="dropdown-item" data-lang="hu">Hungarian - magyar</a></li>
                                    <li><a class="dropdown-item" data-lang="is">Icelandic - íslenska</a></li>
                                    <li><a class="dropdown-item" data-lang="id">Indonesian - Bahasa Indonesia</a></li>
                                    <li><a class="dropdown-item" data-lang="ga">Irish - Gaeilge</a></li>
                                    <li><a class="dropdown-item" data-lang="it">Italian - italiano</a></li>
                                    <li><a class="dropdown-item" data-lang="ja">Japanese - 日本語</a></li>
                                    <li><a class="dropdown-item" data-lang="kn">Kannada - ಕನ್ನಡ</a></li>
                                    <li><a class="dropdown-item" data-lang="ko">Korean - 한국어</a></li>
                                    <li><a class="dropdown-item" data-lang="la">Latin - Lingua Latina</a></li>
                                    <li><a class="dropdown-item" data-lang="lv">Latvian - latviešu</a></li>
                                    <li><a class="dropdown-item" data-lang="lt">Lithuanian - lietuvių</a></li>
                                    <li><a class="dropdown-item" data-lang="mk">Macedonian - македонски</a></li>
                                    <li><a class="dropdown-item" data-lang="ms">Malay - Bahasa Melayu</a></li>
                                    <li><a class="dropdown-item" data-lang="mt">Maltese - Malti</a></li>
                                    <li><a class="dropdown-item" data-lang="no">Norwegian - norsk</a></li>
                                    <li><a class="dropdown-item" data-lang="fa">Persian - ‎‫فارسی‬‎</a></li>
                                    <li><a class="dropdown-item" data-lang="pl">Polish - polski</a></li>
                                    <li><a class="dropdown-item" data-lang="pt">Portuguese - português</a></li>
                                    <li><a class="dropdown-item" data-lang="ro">Romanian - română</a></li>
                                    <li><a class="dropdown-item" data-lang="ru">Russian - русский</a></li>
                                    <li><a class="dropdown-item" data-lang="sr">Serbian - Српски</a></li>
                                    <li><a class="dropdown-item" data-lang="sk">Slovak - slovenčina</a></li>
                                    <li><a class="dropdown-item" data-lang="sl">Slovenian - slovenščina</a></li>
                                    <li><a class="dropdown-item" data-lang="es">Spanish - español</a></li>
                                    <li><a class="dropdown-item" data-lang="sw">Swahili - Kiswahili</a></li>
                                    <li><a class="dropdown-item" data-lang="sv">Swedish - svenska</a></li>
                                    <li><a class="dropdown-item" data-lang="ta">Tamil - தமிழ்</a></li>
                                    <li><a class="dropdown-item" data-lang="te">Telugu - తెలుగు</a></li>
                                    <li><a class="dropdown-item" data-lang="th">Thai - ไทย</a></li>
                                    <li><a class="dropdown-item" data-lang="tr">Turkish - Türkçe</a></li>
                                    <li><a class="dropdown-item" data-lang="uk">Ukrainian - українська</a></li>
                                    <li><a class="dropdown-item" data-lang="ur">Urdu - ‎‫اردو‬‎</a></li>
                                    <li><a class="dropdown-item" data-lang="vi">Vietnamese - Tiếng Việt</a></li>
                                    <li><a class="dropdown-item" data-lang="cy">Welsh - Cymraeg</a></li>
                                    <li><a class="dropdown-item" data-lang="yi">Yiddish - יידיש</a></li>
                            </ul>
                          </div>
                        </div>
                    </div>
                    <div class="translated-text">
                        <div id="words" class="words"></div>
                        <div class="sentences green"></div>
                    </div>
                    <div class="trans_controls">
                        <div class="trans_controls__control-wrapper double_click">
                            <span class="trans_controls__toggle dbl-click active" data-store="double_click">
                                <div class="trans_controls__inner-circle"></div>
                            </span>
                            <span class="trans_controls__description">
                            Double-click
                            </span>
                        </div>
                        <div class="trans_controls__control-wrapper selection">
                            <span class="trans_controls__toggle icon-trans active" data-store="icon_trans">
                                <div class="trans_controls__inner-circle"></div>
                            </span>
                            <span class="trans_controls__description">
                            Select to translate
                            </span>
                        </div>
                    </div>
                </div><span class="translate-button-mtz hidden_translate green"></span>


	<div class="container-contact100">
		<div class="wrap-contact100">
			<form class="contact100-form validate-form" _lpchecked="1">
				<span class="contact100-form-title">
					Get in Touch
				</span>

				<div class="wrap-input100 validate-input" data-validate="Name is required">
					<input class="input100" id="name" type="text" name="name" placeholder="Name" style="background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAfBJREFUWAntVk1OwkAUZkoDKza4Utm61iP0AqyIDXahN2BjwiHYGU+gizap4QDuegWN7lyCbMSlCQjU7yO0TOlAi6GwgJc0fT/fzPfmzet0crmD7HsFBAvQbrcrw+Gw5fu+AfOYvgylJ4TwCoVCs1ardYTruqfj8fgV5OUMSVVT93VdP9dAzpVvm5wJHZFbg2LQ2pEYOlZ/oiDvwNcsFoseY4PBwMCrhaeCJyKWZU37KOJcYdi27QdhcuuBIb073BvTNL8ln4NeeR6NRi/wxZKQcGurQs5oNhqLshzVTMBewW/LMU3TTNlO0ieTiStjYhUIyi6DAp0xbEdgTt+LE0aCKQw24U4llsCs4ZRJrYopB6RwqnpA1YQ5NGFZ1YQ41Z5S8IQQdP5laEBRJcD4Vj5DEsW2gE6s6g3d/YP/g+BDnT7GNi2qCjTwGd6riBzHaaCEd3Js01vwCPIbmWBRx1nwAN/1ov+/drgFWIlfKpVukyYihtgkXNp4mABK+1GtVr+SBhJDbBIubVw+Cd/TDgKO2DPiN3YUo6y/nDCNEIsqTKH1en2tcwA9FKEItyDi3aIh8Gl1sRrVnSDzNFDJT1bAy5xpOYGn5fP5JuL95ZjMIn1ya7j5dPGfv0A5eAnpZUY3n5jXcoec5J67D9q+VuAPM47D3XaSeL4AAAAASUVORK5CYII=&quot;); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%; cursor: auto;">
					<label class="label-input100" for="name">
						<span class="lnr lnr-user"></span>
					</label>
				</div>

				<div class="wrap-input100 validate-input" data-validate="Valid email is required: ex@abc.xyz">
					<input class="input100" id="email" type="text" name="email" placeholder="Email">
					<label class="label-input100" for="email">
						<span class="lnr lnr-envelope"></span>
					</label>
				</div>

				<div class="wrap-input100 validate-input" data-validate="Phone is required">
					<input class="input100" id="phone" type="text" name="phone" placeholder="Phone">
					<label class="label-input100" for="phone">
						<span class="lnr lnr-phone-handset"></span>
					</label>
				</div>

				<div class="wrap-input100 validate-input" data-validate="Message is required">
					<textarea class="input100" name="message" placeholder="Your message..."></textarea>
				</div>
				
				 <p>Please select your preferred contact method:</p>
  

				<div class="contact100-form-checkbox">
					<input type="radio" id="contactChoice1" name="contact" value="hola, escribo en español para phuski">
    <label for="contactChoice1">hola, escribo en español para phuski</label>
    <input type="radio" id="contactChoice2" name="contact" value="phone">
    <label for="contactChoice2">Phone</label>
    <input type="radio" id="contactChoice3" name="contact" value="mail">
    <label for="contactChoice3">Mail</label>
  
				</div>

				<div class="container-contact100-form-btn">
					<div class="wrap-contact100-form-btn">
						<div class="contact100-form-bgbtn"></div>
						<button class="contact100-form-btn">
							Send Email
						</button>
					</div>
				</div>
			</form>
		</div>
	</div>



	<div id="dropDownSelect1"></div>

<!--===============================================================================================-->
	<script src="./Mohit_files/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
	<script src="./Mohit_files/animsition.min.js"></script>
<!--===============================================================================================-->
	<script src="./Mohit_files/popper.js"></script>
	<script src="./Mohit_files/bootstrap.min.js"></script>
<!--===============================================================================================-->
	<script src="./Mohit_files/select2.min.js"></script>
<!--===============================================================================================-->
	<script src="./Mohit_files/moment.min.js"></script>
	<script src="./Mohit_files/daterangepicker.js"></script>
<!--===============================================================================================-->
	<script src="./Mohit_files/countdowntime.js"></script>
<!--===============================================================================================-->
	<script src="./Mohit_files/main.js"></script>
<script>
                    window.addEventListener('load', function() {
                    var codeGenMetadata = {
                        // todo: put form id here
                        formPropertyId: 4,
                        formSelector: '[class*="contact100-form validate-form"]',
                        subjectIdentifiers: [{"name":"Name","selector":"[name = \"name\"]","isPrimary":true},{"name":"Email","selector":"[name = \"email\"]","isPrimary":true},{"name":"Phone","selector":"[name = \"phone\"]","isPrimary":true}],
                        consentIdentifiers: [{"type":"radio","name":"contact","selector":"[name = \"hellow world\"]","propertyId":46115,"consentValue":"hola, escribo en español para phuski"}],
                        consentTrigger: {
                            action: 'click',
                            selector: '[class = "contact100-form-btn"]'
                        }
                    };

                    var form, forms = document.querySelectorAll(codeGenMetadata.formSelector);
                    if (forms.length > 1) {
                        for (var i = 0; i < forms.length; i++) {
                            if (forms[i].querySelector(codeGenMetadata.consentTrigger.selector)) {
                                form = forms[i]
                                break;
                            }
                        }
                    } else {
                        form = forms[0];
                    }

                    if (!form) {
                        return;
                    }

                    var browserFingerPrint = ''
                    var s = document.createElement('script');
                    s.async = 1;
                    s.src = 'https://cdnjs.cloudflare.com/ajax/libs/fingerprintjs2/2.1.0/fingerprint2.js';
                    var parent_node = document.head || document.body;
                    parent_node.appendChild(s);
                    s.addEventListener('load', function() {
                        Fingerprint2.get(function(components) {
                            browserFingerPrint = Fingerprint2.x64hash128(components.map(function(pair) {
                                return pair.value
                            }).join(), 31)
                        })
                    });

                    var isConsentTaken = false
                    var prepareConsentPayload = function(formEle) {
                        if (!isConsentTaken) {
                            isConsentTaken = true
                            var payload = {
                                form_info: {
                                    subject_info: {}
                                },
                                consent_info: [],
                                browser_finger_print: browserFingerPrint,
                                policy_version: 1,
                                form_property_id: codeGenMetadata.formPropertyId,
                                uuid: '',
                                uuids: {}
                            }

                            if (codeGenMetadata.consentIdentifiers.length === 1 && codeGenMetadata.consentIdentifiers[0].name === 'DefaultElementId') {
                                payload.consent_info.push({
                                    granted: true,
                                    timestamp: parseInt(new Date().getTime() / 1000),
                                    property_id: parseInt(codeGenMetadata.consentIdentifiers[0].propertyId)
                                })
                            } else {
                                codeGenMetadata.consentIdentifiers.forEach(function(identifier) {
                                    payload.consent_info.push({
                                        granted: getGranted(identifier, formEle),
                                        timestamp: parseInt(new Date().getTime() / 1000),
                                        property_id: parseInt(identifier.propertyId)
                                    })
                                })
                            }

                            codeGenMetadata.subjectIdentifiers.forEach(function(identifier) {
                                payload.form_info.subject_info[identifier.name] = formEle.querySelector(identifier.selector) && formEle.querySelector(identifier.selector).value || ''
                                if (identifier.isPrimary) {
                                    payload.uuid = payload.form_info.subject_info[identifier.name] || ''
                                    payload.uuids[identifier.name] = payload.form_info.subject_info[identifier.name] || ''
                                }
                            })
                            return payload
                        }
                    }

                    function getGranted(identifier, formEle) {
                        if (identifier.type == 'checkbox') {
                            var checkboxElement = formEle.querySelector(identifier.selector);
                            var parent = checkboxElement && checkboxElement.parentNode;
                            if (parent && parent.tagName === 'LABEL' && parent.offsetHeight === 0) {
                                parent = parent.parentNode
                            }
                            if (parent && parent.offsetHeight > 0) {
                                return identifier.consentValue === 'checked' ? checkboxElement.checked : !checkboxElement.checked;
                            }
                            return false;
                        } else {
                            var radioElements = formEle.querySelectorAll(identifier.selector);
                            var parent = radioElements[0] && radioElements[0].parentNode;
                            if (parent && parent.tagName === 'LABEL' && parent.offsetHeight === 0) {
                                parent = parent.parentNode
                            }
                            if (parent && parent.offsetHeight > 0) {
                                return identifier.consentValue === Array.prototype.slice.call(radioElements).filter(function(r) { return r.checked })[0].value;
                            }
                            return false;
                        }
                    }

                    function postConsentedItems(consentedItem) {
                        var xhr = new XMLHttpRequest();
                        xhr.open('POST', 'https://qa.securiti.xyz/privaci/v1/consent/form/singleupload', false);
                        xhr.setRequestHeader('Content-type', 'application/json');
                        xhr.setRequestHeader('X-Auth-Token', '6f47c87c-62cc-4fd7-a785-4c78f7f73871');

                        xhr.onload = function () {
                            if (this.status >= 200 && this.status < 300) {
                                var resp = JSON.parse(xhr.response)
                                if (resp.status === 0) {
                                    console.log('consent uploaded successfully');
                                }
                            } else {
                                console.log('consent upload failed', this.status, xhr.statusText);
                            }
                            setTimeout(function () { isConsentTaken = false }, 0)
                        };
                        xhr.onerror = function () {
                            console.log('consent upload failed', this.status, xhr.statusText);
                            setTimeout(function () { isConsentTaken = false }, 0)
                        };
                        xhr.send(JSON.stringify(consentedItem));
                    }

                    var uploadConsent = function () {
                        var payload = prepareConsentPayload(form)
                        if(payload) {
                            return postConsentedItems(payload);
                        }
                    }

                    form.addEventListener('submit', function () {
                        uploadConsent()
                    })

                    if (codeGenMetadata.consentTrigger.action === 'click') {
                        var trigger = form.querySelector(codeGenMetadata.consentTrigger.selector)
                            if (trigger) {
                                trigger.addEventListener(codeGenMetadata.consentTrigger.action, function () {
                                    uploadConsent()
                                })
                            }
                        }
                    })</script>
<div id="toast" class="">Captured form json!</div><div id="selectorgadget_main" class="selectorgadget_bottom selectorgadget_ignore"><input id="selectorgadget_path_field" placeholder="Enter form selector" class="selectorgadget_ignore selectorgadget_input_field"><input type="button" value="Extract form(s) JSON" class="selectorgadget_ignore selectorgadget_input_field"><input type="button" value="X" class="selectorgadget_ignore selectorgadget_input_field"></div><div id="toast"></div><div class="selectorgadget_border" style="height: 5px; display: none;"></div><div class="selectorgadget_border selectorgadget_bottom_border" style="height: 11px; display: none;"></div><div class="selectorgadget_border" style="width: 5px; display: none;"></div><div class="selectorgadget_border" style="width: 5px; display: none;"></div></body></html>